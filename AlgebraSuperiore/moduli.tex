\chapter{Moduli (reprise)}
\begin{definition}{Bimodulo}
    Siano \(A, B\) anelli. Allora un \({(A,B)}\)\emph{-bimodulo} è un gruppo abeliano
    \({(M, +)}\) con struttura di \(A\)-modulo sinistro e di \(B\)-modulo destro
    tale che \( {(ax)}b = a{(xb)}\) per ogni \(a \in A \), \(b \in B\) e \(x \in
    M\).

    Se \(A=B\) allora si dice \(A\)-bimodulo invece che \({(A,A)}\)-bimodulo.
\end{definition}
\begin{remark}{}
    Un \({(A,B)}\)-bimodulo è anche un \({(B^{op}, A^{op})}\)-bimodulo. In
    particolare
    \[
      A\text{-bimodulo} = A^{op}\text{-bimodulo}
    \]
\end{remark}
\begin{example}{}
    \(A\) come anello è un \(A\)-bimodulo
\end{example}
\begin{example}{}
    Se \(A\) è commutativo, allora se \(M\) è \(A\)-modulo è un \(A\)-bimodulo,
    con la proprietà aggiuntiva che \(ax = xa\) (più in generale se vale questa
    proprietà si dice che il bimodulo è \emph{simmetrico})
\end{example}
\begin{example}{}
    Se \(B\) è una \(A\)-algebra e \(M\) un \(B\)-modulo
    \emph{sinistro}/\emph{destro}, allora \(M\) è un
    \({(B,A)}/{(A,B)}\)-bimodulo.

    Di conseguenza, \(\forall A\) anello e \(\forall M\) \(A\)-modulo
    \emph{sinistro}/\emph{destro}, \(M\) è un
    \({(A,\mathbb{Z})}/{(\mathbb{Z},A)}\)-bimodulo.
\end{example}

\begin{definition}{Omomorfismo di bimoduli}
    Un omomorfismo di \({(A,B)}\)-bimoduli è \(f : M \to N\) omomorfismo sia di
    \(A\)-moduli sinistri che di \(B\)-moduli destri.
\end{definition}

Si ottiene che la categoria \(A\mathtt{-Mod-}B\) degli \({(A,B)}\)-bimoduli è
una categoria abeliana.


\begin{proposition}{}
    Sia \(M \in A\mathtt{-Mod-}B\) e \(N \in A\mathtt{-Mod-}C\). Allora
    \(\mathrm{Hom}_A{(M,N)}\) è un \({(B, C)}\)-bimodulo con 
    \[
      {(bf)}{(x)} := f{(xb)} \quad ; \quad {(fc)}{(x)} := f{(cx)} \quad \forall
      b \in B, \,\, c \in C,\,\, x \in M,\,\, f \in \mathrm{Hom}_A{(M, N)}
    \]
\end{proposition}
\begin{proof}{}
    \(bf\) è \(A\)-lineare, infatti \({(bf)}{(ax)} = a {(bf)}{(x)}\) per ogni
    \(a \in A\) perché \({(bf)}{(ax)} = f{({(ax)}b)} = f{(a{(xb)})} = af{(xb)} = a
    {(bf)}{(x)}\).
    Analogamente \(fc\) è \(A\)-lineare (lasciato per esercizio). %TODO eser

    Devo dimostrare in particolare che \({(bb')}{(f)} = b{(b'f)}\) e \(f{(c c')}
    = {(fc)}c'\). Sono entrambe vere perché, \(\forall x \in M\) 
    \[
    {({(b b')}{(f)})}{(x)} = f{(x{(b b')})} = f{({(xb)}b')} = {(b'f)}{(xb)} =
    {(b{(b'f)})}{(x)}
    \]
    e analogamente l'altra (lasciata per esercizio). % TODO eser

    Resta da dimostrare che \({(bf)}c = b{(fc)}\). Infatti
    \[
      {(b{(fc)})}{(x)} = {(fc)}{(xb)} = f{(xb)}{(c)} = {(bf)}{(x)}c =
      {({(bf)}c)}{(x)}
    \]
\end{proof}
\begin{corollary}{}
    Sia \(M \in A\mathtt{-Mod-}B\). Allora si ottengono funtori (additivi) 
    \begin{align*}
      \mathrm{Hom}_A {(M, -)}&: A\mathtt{-Mod} \to B\mathtt{-Mod} \\
      \mathrm{Hom}_A {(-, M)}&: {(A\mathtt{-Mod})}^{op} \to \mathtt{Mod-}B
    \end{align*}
\end{corollary}
\begin{proof}{}
    resta da dimostrare che \(\forall g : N \to N'\) in \(A\mathtt{-Mod}\),
    allora \(g_* : \mathrm{Hom}_A{(M, N)} \to \mathrm{Hom}_A{(M,N')}\) definita
    da \(f \mapsto g \circ f\) e \(g^{*} : \mathrm{Hom}_A{(N', M)} \to
    \mathrm{Hom}_A{(N, M)}\) definita da \(f' \mapsto f' \circ g\)  sono
    \(B\)-lineari.

    Dunque vogliamo mostrare che \(g_*{(bf)} = g \circ bf = b{(g \circ f)} =
    bg_*{(f)}\). Effettivamente \(\forall x \in M\) 
    \[
    {(g \circ {(bf)})}{(x)} = g{({(bf)}{(x)})} = g{(f{(xb)})} = {(g \circ
    f)}{(xb)} = {(b{(g \circ f)})}{(x)}
    \]
    e analogamente \(g^{*}\) è \(B\)-lineare (lasciato per esercizio). % TODO eser
\end{proof}

\begin{example}{}
    Il funtore \(\mathrm{Hom}_A{(A, -)} : A\mathtt{-Mod} \to A\mathtt{-Mod}\) è
    isomorfo a \(\mathrm{id}_{A\mathtt{-Mod}} \) con isomorfismo naturale
    \(\alpha : \mathrm{Hom}_A{(A, -)} \to \mathrm{id}_{A\mathtt{-Mod}} \)
    definito \(\forall M \in A\mathtt{-Mod}\) da
    \begin{align*}
        \alpha_M: \mathrm{Hom}_A{(A, M)} &\longrightarrow M \\
        f &\longmapsto \alpha_M(f) = f{(1)}
    \end{align*}
    so già che \(\alpha_M\) è biunivoca. Resta da dimostrare che è
    \(A\)-lineare. Questo è vero perché, \(\forall a \in A\) 
    \[
      \alpha_M {(af)} = {(af)}{(1)} = f{(1a)} = f{(a1)} = af{(1)} = a\alpha_M {(f)}
    \]
    e inoltre se \(g : M \to N\) è \(A\)-lineare, allora il diagramma
    \[\begin{tikzcd}
	\mathrm{Hom}_A{(A, M)} & M \\
	\mathrm{Hom}_A{(A, N)} & N
	\arrow["{\alpha_M}", from=1-1, to=1-2]
	\arrow["{g_*}", from=1-1, to=2-1]
	\arrow["g", from=1-2, to=2-2]
	\arrow["{\alpha_N}", from=2-1, to=2-2]
\end{tikzcd} \]
    commuta.
    Questo è vero perché \(\forall f \in \mathrm{Hom}_A{(A, M)}\),
    \(g{(\alpha_M{(f)})} = g {(f{(1)})}\) e \(\alpha_N{(g_*{(f)})} = a_N{(g
    \circ f)} = {(g \circ f)}{(1)}\) 
\end{example}

\begin{example}{}
    Sia \(A\) commutativo, \(B\) una \(A\)-algebra, \(M, N\) \(B\)-moduli.
    Allora Poiché \(M, N \in B\mathtt{-Mod-}A\), \(\mathrm{Hom}_B{(M, N)}\) è
    \(A\)-bimodulo simmetrico (ossia tale che \(\forall a \in A\) e \(\forall f
    \in \mathrm{Hom}_B{(M, N)}\), \({(af)}{(x)} = f{(ax)} = af{(x)}\).

    In particolare se \(M, N\) sono \(A\)-moduli, allora \(\mathrm{Hom}_A{(M,
    N)}\) è un \(A\)-modulo in questo modo.
\end{example}


\begin{definition}{Prodotto tensoriale}
    Un \emph{prodotto tensoriale} di \(M \in \mathrm{Mod-}A\) e \(N \in
    A\mathtt{-Mod}\) è un gruppo abeliano \(T\) con una funzione \(t: M \times N
    \to T\) che sia \(A\)-bilanciata, cioè \(t\) è \(\mathbb{Z}\)-bilineare e
    \[
      t{(xa, y)} = t{(x, ay)} \quad \forall a \in A,\,\, \forall x \in M,\,\,
      \forall y \in N
    \]
    universale per tale proprietà, ossia \(t\) è
    tale che \(\forall G\) gruppo abeliano e \(\forall f: M \times N \to G\)
    \(A\)-bilanciata \(\exists ! f' : T \to G\) \(\mathbb{Z}\)-lineare tale che
    \(f = f' \circ t\) 
\end{definition}

\begin{proposition}{}
    Siano \({(T, t)}\) e \({(T', t')}\) due prodotti tensoriali di \(M\) e
    \(N\). Allora \(\exists ! i : T \to T'\) \(\mathbb{Z}\)-lineare tale che
    \(t' = i \circ t\) e \(i\) è isomorfismo.

    Inoltre si può prendere \(T := \mathbb{Z}^{{(M \times N)}} / H\). Con
    leggero abuso di notazione in \(\mathbb{Z}^{{(M \times  N)}}\) indico con
    \({(x, y)}\) l'elemento della base indicizzato da \({(x, y)} \in M \times
    N\). Con tale notazione, e \(x, x' \in M\), \(y, y' \in N\) e \(a \in A\) 
    \[
        H = \Span{\underbrace{{(x + x', y)} - {(x,y)} -
        {(x',y)}}_{\text{additività nel primo argomento}}, \underbrace{{(x, y +
y')} - {(x,y)} - {(x, y')}}_{\text{add. nel secondo arg.}}, \underbrace{{(xa,y)}
- {(x, ay)}}_{\text{bilanciataggine}}} 
    \]
    e 
    \[
      t{(x,y)} = {(x,y)} + H
    \]
\end{proposition}
\begin{proof}[Dimostrazione unicità]
    Per la proprietà universale di \(T, t\), \(\exists ! i \) tale che \(t' = i
    \circ t\). Analogamente per \(i' : T' \to T\) e come al solito \(i \circ i'
    = \mathrm{id}_{T'} \) e \(i' \circ i = \mathrm{id}_T\) 
\end{proof}
\begin{proof}{Dimostrazione esistenza}
    \(t\) è \(A\)-bilanciata per definizione di \(T\). Data \(f: M \times N \to
    G\) \(A\)-bilanciata \(\exists ! \tilde{f} : \mathbb{Z}^{{(M \times N)}} \to
    G\) \(\mathbb{Z}\)-lineare tale che \(\tilde{f}{(x, y)} = f{(x, y)}\) per
    ogni \(x \in M\) e \(y \in N\).

    Allora \(f\) è \(A\)-bilanciata implica che \(\tilde{f}|_H = 0\) e per il
    teorema di omomorfismo per gruppi \(\exists ! f' : T \to G\)
    \(\mathbb{Z}\)-lineare tale che \(\tilde{f} = f' \circ \pi\) (con \(\pi : Z
    ^{{(M \times N)}} \to T\) la proiezione).

    Abbiamo che \(t = \pi \circ j\), con \(j : M \times N \to \mathbb{Z}^{{(M \times
    N)}}\) definita da \({(x, y)} \mapsto {(x,y)}\).

    Finalmente si conclude che
    \[
      f = \tilde{f} \circ j = f' \circ \pi \circ j = f' \circ t
    \]
    e \(f'\) è unica (esercizio). % TODO eser
\end{proof}

\begin{note}[zione]
    Si indica \(T\) con \(M \otimes_A N\) e \(t{(x,y)}\) con \(x \otimes y\).
\end{note}
\begin{remark}{}
    \(M \otimes_A N = \Span{x \otimes y : x \in M, y \in N} = \Span{x \otimes y
    : x \in U, y \in V} \) con \(M = \Span{U} \) e \(N = \Span{V} \). Uno
    potrebbe pensare che basti prendere \(U\) e \(V\) generatori come
    \emph{modulo} di \(M\) e \(N\) ma questo in generale non basta e \(U, V\)
    devono essere generatori di \(M\) e \(N\) come gruppo.
\end{remark}

\begin{proposition}{}
    Sia \(M \in \mathtt{Mod-}A\) e \(N \in A\mathtt{-Mod}\). Allora la funzione
    \begin{align*}
        M \otimes_A N &\to N \otimes_{A^{op}} M \\
        x \otimes y & \mapsto y \otimes x
    \end{align*}
    è ben definita ed è isomorfismo di gruppi
\end{proposition}
\begin{proof}{}
    Bisogna controllare che \begin{align*}
        f: M \times N &\longrightarrow N \otimes_{A^{op}} M \\
        {(x,y)} &\longmapsto f({(x,y)}) = y \otimes x
    \end{align*}
    sia \(A\)-bilanciata. Lo è perché
    \[
      f{(xa, y)} = y \otimes {(xa)} = {(ay)} \otimes x = f{(x, ay)}
    \]
    E dunque \(\exists ! f' : M \otimes_A N \to N \otimes_{A^{op}} M\)
    \(\mathbb{Z}\)-lineare tale che \(f{(x \otimes y)} = y \otimes x\) 

    Immagino che sia per la solita ragione che \(f'\) è \(\mathbb{Z}\)-lineare. % TODO eser
\end{proof}

\begin{proposition}{}
    Sia \(f : M \to M'\) in \(\mathtt{Mod-}A\) e \(g: N \to N'\) in
    \(A\mathtt{-Mod}\). Allora \(f \otimes g : M \otimes_A N \to M' \otimes_A
    N'\) data da \(x \otimes y \mapsto f{(x)} \otimes g{(y)}\) è (ben definita)
    e isomorfismo.
\end{proposition}
\begin{proof}{}
    Sia \(\varphi : M \times N \to M' \otimes_A N'\), \({(x,y)} \mapsto
    f{(x)} \otimes g{(y)}\)  è \(A\)-bilanciata
    (esercizio). % TODO eser 

    Allora \(\exists ! \varphi ' : M \otimes_A N \to M' \otimes_A N'\)
    \(\mathbb{Z}\)-lineare tale che \(\varphi'{(x \otimes y)} = f{(x)} \otimes
    g{(y)}\) 
\end{proof}
\begin{corollary}{} Esistono i funtori (additivi) \\
\begin{minipage}{0.48\textwidth}
    \begin{align*}
        M\otimes_A -: A\text{-Mod} &\longrightarrow \text{Ab} \\
        N &\longmapsto  M \otimes_A N \\
        (g : N \to N') &\longmapsto \mathrm{id}_M \otimes g
    \end{align*}
\end{minipage}
e
\hfill
\begin{minipage}{0.48\textwidth}
    \begin{align*}
        - \otimes_A N: \text{Mod-}A &\longrightarrow \text{Ab} \\
        M &\longmapsto M \otimes_A N \\
        (f : M \to M') &\longmapsto f \otimes \mathrm{id}_N
    \end{align*}
\end{minipage}
\end{corollary}

\begin{proposition}{}
    Sia \(M \in B\mathtt{-Mod-}A\), \(N \in A\mathtt{-Mod-}C\). Allora \(M
    \otimes_A N \in B\mathtt{-Mod-}C\) con \(b{(x \otimes y)} := {(bx)} \otimes
    y\) e \({(x \otimes y)}c := x \otimes {(yc)}\) 
\end{proposition}
\begin{proof}{}
    Fissato \(b \in B\) devo vedere che la moltiplicazione a sinistra per \(b\)
    è ben definita. Infatti \(\varphi_b : M \to M\) data da \(x \mapsto bx\) è
    \(A\)-lineare e \(\varphi_{b*} : M \otimes_A N \to M \otimes_A N\) definita
    da \(x \otimes y \mapsto {(bx)} \otimes y\) è \(\mathbb{Z}\)-lineare.

    Va visto che \(\forall z \in M \otimes_A N\) e \(\forall b, b' \in B\)
    allora \({(b b')}z = b{(b' z)}\). Poiché basta verificarlo su un generatore
    allora basta verificarlo quando \(z = x \otimes y\) e lì è chiaro.

    Analogamente per \(z {(c c')} = {(z c)}c'\) e \({(bz)}c = b{(zc)}\).
\end{proof}

\begin{corollary}{}
    Sia \(M \in B\mathtt{-Mod-}A\). Allora esistono i funtori (additivi)
    \[
      M \otimes_A - : A\mathtt{-Mod} \to B\mathtt{-Mod} \quad e \quad -
      \otimes_B M : \mathtt{Mod-}B \to \mathtt{Mod}-A
    \]
\end{corollary}
\begin{proof}{}
    Per \(M \otimes_A -\) resta da dimostrare che \(\forall g : N \to N'\) in
    \(A\mathtt{-Mod}\), \(g_* : M \otimes_A N \to M \otimes_A N'\) è
    \(B\)-lineare, cioè \(g_*{(bz)} = bg_*{(z)}\) per ogni \(z \in M \otimes_A
    N\). Posso supporre \(z= x \otimes y\) da cui
    \[
        g_* {(bz)} = g_* {(b {(x \otimes y)})} =
        \underbrace{g_*}_{\mathrm{id_M} \otimes g} {({(bx)} \otimes y)} = {(bx)}
      \otimes g{(y)} = b{(x \otimes g{(y)})} = b g_* {(z)}
    \]
    Per \(- \otimes_B M\) il discorso è simile nelle categorie op.
\end{proof}

\begin{corollary}{}
    Sia \(A\) commutativo, \(M, N \in A\mathtt{-Mod}\). Allora \(M \otimes_A N
    \in A\mathtt{-Mod}\) 
\end{corollary}

\begin{remark}{}
    Se \(A\) è commutativo, allora 
    \begin{align*}
        t : M \times N &\to M \otimes_A N \\
        {(x, y)} & \mapsto x \otimes y
    \end{align*}
    è \(A\)-bilineare (oltre che \(A\)-bilanciata ovviamente) perché
    \(t {(ax, y)} = {(ax)} \otimes y = a{(x \otimes y)} = x \otimes {(ay)} =
    t{(x, ay)}\).

    Inoltre, data \(f: M \times N \to P\) \(A\)-bilineare (con \(P \in
    A\mathtt{-Mod}\), allora \(f\) è \(A\)-bilanciata e quindi \(\exists! f' :
    M \otimes_A N \to P\) \(\mathbb{Z}\)-lineare tale che \(f = f' \circ t\)  e
    \(f'\) è \(A\)-lineare perché \(f'{(a{(x \otimes y)})} = f'{({(ax)} \otimes
    y)} = f'{(t{(ax, y)})} = f{(ax, y)} = a f{(x, y)} = \dots = af'{(x \otimes
    y)}\).

    Una conseguenza è che su \(A\) commutativo si può definire \(M \otimes_A N\)
    attaverso la proposizione universale per le funzioni \(A\)-bilineari \(M
    \times N \to P\).
\end{remark}

\begin{remark}{}
    Sia \(M \in B\mathtt{-Mod-}A\) e \(N \in A\mathtt{-Mod-}C\). Allora \(M
    \otimes_A N = B {(U \otimes V)}C \) se \(M = B U \) e \(N = VC\) 
\end{remark}

\begin{definition}{Funtore aggiunto}
    Sia \(F : \mathcal{C} \to \mathcal{D}\) e \(G : \mathcal{D} \to
    \mathcal{D}\) funtori. Si dice che \(F\) è \emph{aggiunto sinistro} di
    \(G\) (o che \(G\) è \emph{aggiunto destro} di \(F\)) e si indica \(F \dashv
    G\) se \(\forall X \in \mathcal{C}\) e \(\forall Y \in \mathcal{D}\)
    \[
      \exists \varphi = \varphi_{X,Y} : \mathcal{D}{(F{(X)}, Y)} \to
      \mathcal{C}{(X, G{(Y)})}
    \]
    biunivoca e naturale in \(X\) e \(Y\), cioè \(\forall f : X' \to X\) in
    \(\mathcal{C}\) e \(\forall g : Y \to Y'\) in \(\mathcal{D}\) il seguente
    diagramma commuta
    \[\begin{tikzcd}
        \mathcal{D}{(F{(X')}, Y)} & \mathcal{D}{(F{(X)}, Y)} &
        \mathcal{D}{(F{(X)}, Y')} \\
        \mathcal{C}{(X', G{(Y)})} & \mathcal{C}{(X, G{(Y)})} & \mathcal{C}{(X,
        G{(Y')})}
        \arrow["{\varphi_{X', Y}}"', from=1-1, to=2-1]
        \arrow["{F(f)^*}"', from=1-2, to=1-1]
        \arrow["{g_*}", from=1-2, to=1-3]
        \arrow["{\varphi_{X,Y}}"', from=1-2, to=2-2]
        \arrow["{\varphi_{X, Y'}}", from=1-3, to=2-3]
        \arrow["{f^*}"', from=2-2, to=2-1]
        \arrow["{G(g)_*}", from=2-2, to=2-3]
    \end{tikzcd}\]
    ossia \(\forall h \in \mathcal{D}{(F{(X)}, Y)}\), \[\varphi_{X, Y'}  {(g \circ h)} =
    G{(g)} \circ \varphi_{X, Y}  {(h)} \text{ e } \varphi _{X',Y} {(h \circ F{(f)})}
    = \varphi _{X, Y} {(h)}
    \circ f\] 
\end{definition}

\begin{remark}{}
    Una \(\varphi \) come sopra definisce una trasformazione naturale
    (isomorfismo) \(\mathcal{D}{(F{(-)}, =)} \Rightarrow \mathcal{C}{(-, G{(=)})}\) tra
    funtori \(\mathcal{C}^{op} \times \mathcal{D} \to \mathtt{Set}\) (o
    viceversa dato un tale isomorfismo naturale si ottiene un'aggiunzione tra
    \(F\) e \(G\)). Questo equivale a dire che, per ogni \( X' \overset{f}{\to }
    X\) e \(Y \overset{g}{\to } Y'\),  il seguente diagramma commuta
    \[\begin{tikzcd}
	\mathcal{D}{(F{(X)}, Y)} & \mathcal{C}{(X, G{(Y)})} \\
	\mathcal{D}{(F{(X')}, Y')} & \mathcal{C}{(X', G{(Y')})}
	\arrow["{\varphi_{X,Y}}", from=1-1, to=1-2]
	\arrow["{g_* \circ F(f)^*}"', from=1-1, to=2-1]
	\arrow["{G(g)_*\circ f^*}", from=1-2, to=2-2]
	\arrow["{\varphi_{X', Y'}}"', from=2-1, to=2-2]
\end{tikzcd}\]
    ossia che \(\forall h \in \mathcal{D}{(F{(X)}, Y)}\), si ha che
    \(\varphi_{X', Y'} \circ g_* \circ F{(f)}^{*} {(h)} = G{(g)}_* \circ f^{*}
    \circ \varphi_{X, Y} {(h)}\), ossia \(\varphi_{X',Y'} {(g \circ h \circ
    F{(f)})} = G{(g)} \circ \varphi_{X, Y} {(h)} \circ f\) 
\end{remark}

\begin{remark}{}
    \(F \dashv G \iff G^{op} \dashv F^{op}\) 
\end{remark}

\begin{example}{}
    Se \(F : \mathcal{C} \to \mathcal{D}\) è un'equivalenza e \(G : \mathcal{D}
    \to \mathcal{C}\) è un quasi-inverso di \(F\), allora \(F \dashv G \) e \(G
    \dashv F\) 
    \begin{proof}{}
        Vogliamo mostrare che \(\forall X \in \mathcal{C}\) e \(Y \in
        \mathcal{D}\), \[\mathcal{D}{(F{(X)}, Y)}
            \underset{\sim}{\overset{G}{\to}} \mathcal{C}{(G{(F{(X)})},
    G{(Y)})}\underset{\sim}{\overset{\alpha_X^{*}}{\to}} \mathcal{C}{(X, G{(Y)})}
\] 
    se \(\alpha: \mathrm{id}_\mathcal{C} \to G \circ F\) isomorfismo (\(\implies
    \alpha_X :X \to G \circ F{(X)}\) isomorfismo in \(\mathcal{C}\))
    \end{proof}
\end{example}

\begin{example}{}
    \[
        (\mathrm{Abel} : \mathtt{Grp} \to \mathtt{Ab}) \dashv {(\mathtt{Ab}
        \overset{\text{inclusione}}{\to } \mathtt{Grp})}
    \]
    con \(\mathrm{Abel}{(G)} = G / [G, G]\). Allora questo è vero perché
    \(\forall G \in \mathtt{Grp}\) e \(\forall H \in \mathrm{Ab}\) 
    \[
        \mathtt{Ab}{\left( \frac{G}{[G,G]}, H \right)} \longleftrightarrow
        \mathtt{Grp}{(G, H)}
    \]
\end{example}

\begin{example}{}
    Sia \(A\) un dominio d'integrità e \(\mathcal{A} \subseteq A\mathtt{-Mod} \)
    la sottocategoria piena dei moduli senza torsione. Allora
    \begin{align*}
        \left( A\mathtt{-Mod} \to \mathcal{A} \right) &\dashv \left(
        \mathcal{A} \overset{\text{inclusione}}{\to} A\mathtt{-Mod} \right) \\
            M \mapsto \frac{M}{T{(M)}} &
    \end{align*}
    perché \(\forall M, N \in A\mathtt{-Mod}\) con \(T{(N)} = 0\) allora
    \[
      \mathrm{Hom}_A{(M / T{(M)} , N)} \cong \mathrm{Hom}_A {(M, N)}
    \]
\end{example}

\begin{proposition}{}
    Se \(F \overset{\varphi }{\dashv } G\) e \(F, F' : \mathcal{C} \to
    \mathcal{D}\), allora \(F' \dashv G \iff F' \cong F\) 
\end{proposition}
\begin{proof}\( \)
\begin{itemize}
    \item[\(\implies \)] Cerco \(\alpha_X \in \mathcal{D}{(F{(X)}, F'{(X)})}\) e
        possiamo prendere
        \[
          \alpha_X = \varphi_{X,F'{(X)}} ^{-1} {\left( \varphi '_{X, F'{(X)}}
          {(1_{F'{(X)}} )} \right)} 
        \]
    \item[\(\impliedby \)] Sia \(\alpha : F \to F'\) l'isomorfismo. Allora
        voglio definire \(\varphi'_{X, Y}  : \mathcal{D}{(F'{(X)} \to Y)} \to
        \mathcal{C}{(X, G{(Y)})}\) per ogni \(X \in \mathcal{C}\) e \(Y \in
        \mathcal{D}\) e possiamo definirlo come \(\varphi'_{X, Y} = \varphi_{X,
        Y} \circ \alpha_X^{*}\)
\end{itemize}
\end{proof}

\begin{example}{}
    Dati \(F : \mathtt{Set} \to A\mathtt{-Mod}\) e \(G : A\mathtt{-Mod} \to
    \mathtt{Set}\) dati da \(F: \Lambda \mapsto A^{{(\Lambda)}}\) e \(G : M
    \mapsto M\) il funtore dimenticante, allora \(F \dashv G\) poiché
    \(\mathrm{Hom}_A {(A^{{(\Lambda)}}, M)} \leftrightarrow
    \mathtt{Set}{(\Lambda, M)}\) 
\end{example}

\begin{remark}{}
    Dato \({(F : \mathcal{C} \to \mathcal{D})} \dashv {(G : \mathcal{D} \to
    \mathcal{C})}\) dato da \(\varphi_{X, Y} : \mathcal{D}{(F{(X)}, Y)}
    \overset{\sim }{\to }\mathcal{C}{(X, G{(Y)})}\), ottengo una trasformazione
    naturale
    \[
      \eta : \mathrm{id}_\mathcal{C} \to G \circ F \text{ (unità dell'aggiunto)
      e } \varepsilon : F \circ G \to \mathrm{id}_\mathcal{D} \text{ (counità
      dell'aggiunto)}
    \]
    definite da, \(\forall X \in \mathcal{C}\), \(\eta_X := \varphi _{X, F{(X)}}
    {(1_{F{(X)}} )} \in \mathcal{C}{(X, G{(F{(X)})})} \cong \mathcal{D}{(F{(X)},
    F{(X)})}\ni 1_{F{(X)}} \) e la \(\varepsilon\) \(\forall Y \in \mathcal{D}\) data da 
    \(\varepsilon_Y := \varphi ^{-1}_{G{(Y)}, Y} {(1_{G{(Y)}} )}\).

    A questo punto, per ogni \(h \in \mathcal{D}{(F{(X)}, Y)}\), 
    \[
      \varphi {(h)} = \varphi {(h \circ 1_{F{(X)}} )} \overset{\varphi  \text{
      nat.}}{=} G{(h)} \circ \varphi{(1_{F{(X)}} )} = G{(h)} \circ \eta_X
    \]
    Quindi \(\forall k \in C{(X, G{(Y)})}\), esiste unico \(h \in
    \mathcal{D}{(F{(X)} , Y)}\) tale che \(k = \varphi {(h)} = G{(h)} \circ
    \eta_{X} \)  
\end{remark}

\begin{proposition}{}
    Se \(\mathcal{C}\) e \(\mathcal{D}\) sono preadditive e \(G\) è additiva,
    allora \(F\) è additivo e \(\varphi _{X, Y} \) è \(\mathbb{Z}\)-lineare per
    ogni \(X \in \mathcal{C}\) e \(Y \in \mathcal{D}\). In altre parole
    \(\varphi \) dà trasformazioni naturali \(\mathcal{D}{(F{(-)}, =)} \to
    \mathcal{C}{(-, G{(=)})}\) come funtori \(\mathcal{C}^{op} \times
    \mathcal{D} \to \mathtt{Ab}\) 
\end{proposition}

\begin{proof}{}
    \(\forall h, h' \in \mathcal{D}{(F{(X)}, Y)}\), si ha che \(\varphi_{X, Y}  {(h +
    h')} = G{(h + h')} \circ \eta_X = G{(h )} \circ \eta_X + G{(h')} \circ
    \eta_X = \varphi {(h)} + \varphi {(h')}\). Inoltre \(\forall f' : X \to X'\)
    in \(\mathcal{C}\), 
    \begin{align*}
      &G{(F{(f+f')})} \circ \eta_X \overset{\eta \text{ nat}}{=} \eta_{X'} \circ
        {(f + f')} = \eta_{X'} \circ f + \eta_{X'} \circ f' = \\
      &= G{(F{(f)})} \circ \eta_X + G{(F{(f')})} \circ \eta_{X} = G{(F{(f)} +
    F{(f')})} \circ \eta_X \\ &\implies F{(f + f')} = F{(f)} + F{(f')}
    \end{align*}
\end{proof} % TODO: check correctness

\begin{theorem}
    Siano \(\mathcal{C}\) e \(\mathcal{D}\) categorie qualunque e siano \(F, G\)
    funtori tali che
    \[
      {(F : \mathcal{C} \to \mathcal{D})} \dashv {(G : \mathcal{D} \to
      \mathcal{C})}
    \]
    Allora \(F\) preserva i colimiti e \(G\) preserva i limiti.
\end{theorem}

\begin{proof}[idea della dimostrazione]
    Sia \(I : \mathcal{L} \to \mathcal{D}\) un funtore (con \(\mathcal{L}\)
    piccola) con \( \lim I = {(Z \in \mathcal{D}, \alpha: K_Z \to I)}\). Allora
    per definizione di limite si ha che, \(\forall Y \in \mathcal{D}\),
    \begin{align*}
        \delta_{Y, Z} : \mathcal{D}{(Y, Z)} &\longrightarrow
        \mathtt{Fun}{(\mathcal{L}, \mathcal{D})}{(K_Y, I)} \\
        g &\longmapsto \delta_{Y, Z} (g) = \alpha \circ K_g
    \end{align*}
    è biunivoca. Vogliamo dimostrare che \( \lim {(G \circ I)} = {(G{(Z)}, G
    \circ \alpha : K_{G{(Z)}} \to G \circ I)}\), ossia che \(\forall X \in
    \mathcal{C}\), 
    \begin{align*}
        \gamma_{X, Z} : \mathcal{C}{(X, G{(Z)})} &\longrightarrow
        \mathtt{Fun}{(\mathcal{L}, \mathcal{C})}{(K_X, G \circ I)} \\
        f &\longmapsto \gamma_{X, Z} (f) = g \circ \alpha \circ K_f
    \end{align*}
    è biunivoca. A tale scopo notiamo che abbiamo il seguente diagramma
    commutativo:
    \[\begin{tikzcd}
	\mathcal{C}{(X, G{(Z)})} & \mathtt{Fun}{(\mathcal{L}, \mathcal{C})}{(K_X, G
    \circ I)} \\
	\mathcal{D}{(F{(X)}, Z)} & \mathtt{Fun}{(\mathcal{L},
    \mathcal{D})}{(K_{F{(X)}} , I)}
	\arrow["{\gamma_{X, Z}}", from=1-1, to=1-2]
	\arrow["{\varphi_{X,Z}}"', tail reversed, from=1-1, to=2-1]
	\arrow["{\delta_{F(X),Z}}"', tail reversed, from=2-1, to=2-2]
	\arrow["{\tilde{\varphi}}"', from=2-2, to=1-2]
\end{tikzcd} \]
    dove \(\tilde{\varphi}\) è definita nel seguente modo per ogni \(\beta \in
    \mathtt{Fun}{(\mathcal{L}, \mathcal{D})}{(K_{F{(X)}} , I)}\), ossia per ogni
    trasformazione naturale \(\beta : K_{F{(X)}} \to I \) 
    \[
      \forall L \in \mathcal{L} \quad \tilde{\varphi}{(\beta)}_L := \varphi_{X,
      I{(L)}} {(\beta_L)} : X \to G{(I{(L)})}
    \]
    si verifica che \(\tilde{\varphi}\) è ben definita ed è biunivoca,
    il diagramma commuta e dunque \(\gamma_{X, Z}\) è biunivoca.
\end{proof}

\begin{corollary}{}
    Ogni equivalenza di categorie preserva limiti e colimiti.
\end{corollary}

\begin{corollary}{}
    Sia \(F : \mathcal{A} \to \mathcal{B}\) un funtore tra categorie additive.
    Allora:
\begin{enumerate}[label = \arabic*.]
    \item Se \(F\) è aggiunto \emph{sinistro}/\emph{destro}, \(F\) è additivo
        (preserva infatti i \emph{coprodotti}/\emph{prodotti} finiti)
    \item Se \(\mathcal{A}, \mathcal{B}\) sono abeliane e \(F\) è aggiunto
        \emph{sinistro}/\emph{destro}, allora \(F\) è esatto a
        \emph{destra}/\emph{sinistra}
\end{enumerate}
\end{corollary}

\begin{eser}
    Sia \(\mathcal{A}\) una categoria abeliana. Dimostrare che \(\mathrm{Ker}\)
    è esatto a sinistra e \(\mathrm{Coker}\) è esatto a destra.

    \emph{Suggerimento}: (per \(\mathrm{Ker}\)) considerare il funtore \(\mathcal{A} \to
    \mathtt{Mor}{(\mathcal{A})}\) dato da \(X \mapsto {(X \mapsto 0)}\) 
\end{eser}

\begin{theorem}
    Sia \(M \in B\mathtt{-Mod-}A\). Allora 
    \[
      {(M \otimes_A - : A\mathtt{-Mod} \to B\mathtt{-Mod})} \dashv
      {(\mathrm{Hom}_B{(M, -)} : B\mathtt{-Mod} \to A\mathtt{-Mod})}
    \]
\end{theorem}
\begin{proof}{}
    Vogliamo dimostrare che, \(\forall N \in A\mathtt{-Mod}\) e \(\forall P \in
    B\mathtt{-Mod}\), \\\(\mathrm{Hom}_B{(M \otimes_A N, P)} \cong
    \mathrm{Hom}_A{(N, \mathrm{Hom}_B{(M, P)})}\). Questo è vero perché 
    \[ \begin{tikzcd}
	{\mathrm{Hom}_B{(M \otimes_A N, P)}} & {\mathrm{Bal}_A^{B}{(M \times N, P)}} & {\mathrm{Hom}_A {(N, \mathrm{Hom}_B{(M, P)})}} \\
	{\mathrm{Hom}{(M \otimes_A N, P)}} & {\mathrm{Bal}_A{(M \times N, P)}} & {\mathrm{Hom}_A{(N, \mathrm{Hom}{(M, P)})}}
	\arrow["\sim", from=1-1, to=1-2]
	\arrow["\subseteq"{marking, allow upside down}, draw=none, from=1-1, to=2-1]
	\arrow["\sim", from=1-2, to=1-3]
	\arrow["\subseteq"{marking, allow upside down}, draw=none, from=1-2, to=2-2]
	\arrow["\subseteq"{marking, allow upside down}, draw=none, from=1-3, to=2-3]
	\arrow["{{t^*}}", from=2-1, to=2-2]
	\arrow["\sim"', draw=none, from=2-1, to=2-2]
	\arrow["{f \mapsto \tilde{f}}"', tail reversed, from=2-2, to=2-3]
	\arrow["{\tilde{g} \mapsfrom \,g}"', shift left=8, draw=none, from=2-3, to=2-2]
\end{tikzcd}\]
Dove:
\begin{itemize}
    \item \(t^*\) è biunivoca perché sappiamo che \(t : M \times N \to M \otimes_A
N\) è \(A\)-bilanciata universale.
    \item le due funzioni tra \(\mathrm{Bal}_A\) e \(\mathrm{Hom}_A\) sono
        definite da \(\tilde{g}{(x, y)} = g{(y)}{(x)}\) e \(\tilde{f}{(y)}{(x)}
        = f{(x, y)}\). Sono chiaramente una l'inversa dell'altra, e l'unica
        verifica non ovvia da fare è che \(\tilde{f}{(ay)} = a\tilde{f}{(y)}\)
        per ogni \(a \in A\) e \(\forall y \in N\), effettivamente abbiamo che,
        \(\forall x \in M\),
        \[
          \tilde{f}{(ay)}{(x)} = f{(x)}{(ay)} = f{(xa, y)} =
          \tilde{f}{(y)}{(xa)} = a\tilde{f}{(y)}{(x)}
        \]
        e analogamente se \(g\) è \(A\)-lineare, allora \(\tilde{g}\) è
        \(A\)-bilanciata.
    \item \(\mathrm{Bal}_A^{B}{(M \times N, P)} = \{f \in \mathrm{Bal}_A{(M
        \times N, P)} | f \text{ è \(B\)-lineare nel primo argomento}\}\) 
\end{itemize}
    Le biezioni rimangono nei sottoinsiemi, perché conservano la \(B\)-linearità
    % TODO: detto malissimo e non sono sicuro di aver capito
\end{proof}

\begin{corollary}{}
    \(M \otimes_A -\) è esatto a destra e preserva i coprodotti (e anche
    \(\mathrm{Hom}_B{(M, -)}\) è esatto a sinistra e preserva i prodotti)
\end{corollary}
\begin{corollary}{}
    Se \(A\) è commutativo e \(M \in A\mathtt{-Mod}\), allora 
    \[
        (M \otimes_A - : A\mathtt{-Mod} \to A\mathtt{-Mod}) \dashv
        {(\mathrm{Hom}_A{(M, -)} : A\mathtt{-Mod} \to A\mathtt{-Mod})}
    \]
\end{corollary}

\begin{remark}{}
    A \(\in A\mathtt{-Mod-}A\), dunque 
    \[
      {(A \otimes_A - : A\mathtt{-Mod} \to A\mathtt{-Mod})} \dashv
      {(\mathrm{Hom}_A{(A,-)}: A\mathtt{-Mod} \to A\mathtt{-Mod})} \cong
      \mathrm{id}_{A\mathtt{-Mod}} 
    \]
    da cui \(A \otimes_A - \cong \mathrm{id}_{A\mathtt{-Mod}}\) e potevamo
    vederlo più direttamente in quanto \(\forall M \in A\mathtt{-Mod}\) \(A
    \otimes_A M \to M\) dato da \(a \otimes x \mapsto ax\) è ben definito ed è
    un isomorfismo con inverso \(M \to A \otimes_A M\) dato da \(x \mapsto 1
    \otimes x\).
\end{remark}

\begin{proposition}{}
    Sia \(M \in \mathtt{Mod-}A\), \(N \in A\mathtt{-Mod-}B\) e \(P \in
    B\mathtt{-Mod}\). Allora 
    \[
      {(M \otimes_A N)}\otimes_B P \cong M \otimes_A {(N \otimes_B P)}
    \]
    con isomorfismo tale che \({(x \otimes y)} \otimes z \mapsto x \otimes {(y
    \otimes z)}\) 
\end{proposition}

\begin{proof}{}
    Fissato \(z \in P\), sia 
    \begin{align*}
        f_z: M \times N &\longrightarrow M \otimes_A {(N \otimes_B P)} \\
        {(x,y)} &\longmapsto f_z({(x,y)}) = x \otimes {(y \otimes z)}
    \end{align*}
    allora \(f_z\) è \(A\)-bilanciata e dunque per la proprietà universale del prodotto
    tensoriale \(\exists ! f_z' : M \otimes_A N \to M \otimes_A {(N \otimes_B
    P)}\) \(\mathbb{Z}\)-lineare tale che \(x \otimes y \mapsto x \otimes {(y
    \otimes z)}\). Sia ora 
    \begin{align*}
        f: {(M \otimes_A N)} \times P &\longrightarrow M \otimes_A {(N \otimes_B
        P)} \\
        {(w,z)} &\longmapsto f({(w,z)}) = f'_z{(w)}
    \end{align*}
    Allora \(f\) è \(B\)-bilanciata. Infatti se \(w = x \otimes y\) (basta
    verificare in questo caso) 
    \begin{align*}
        f{(wb, z)}&= f'_z{(wb)} = f'_z {({(x \otimes y)}b)} = f'_z {(x \otimes yb)}
        = x \otimes {({(yb)} \otimes z)} = \\ &= x \otimes {(y \otimes bz)} = f'_{bz}
      {(x \otimes y)} = f'_{bz} {(w)} = \\ &= f{(w, bz)}
    \end{align*}
    Ora di nuovo per la proprietà universale del prodotto tensoriale possiamo
    dire che
    \(
      \exists ! \, f': {(M \otimes_A N)} \otimes_B P \to M \otimes_A {(N
      \otimes_B P)} \) \(\mathbb{Z}\)-bilineare t.c. \(f'{({(x \otimes y)}
      \otimes z)} = x \otimes {(y \otimes z)}
    \)
\end{proof}
\begin{corollary}{}
    Se \(A\) è commutativo e \(M, N, P \in A\mathtt{-Mod}\), allora \({(M
    \otimes_A N)} \otimes_A P \cong M \otimes_A {(N \otimes_A P)}\) 
\end{corollary}

\begin{remark}{}
    Se \(M \in B\mathtt{-Mod-}A\), allora in generale \(M \otimes_A - :
    A\mathtt{-Mod} \to B\mathtt{-Mod}\) non preserva i monomorfismi.

    Ad \textbf{esempio} sia \(A\) un dominio d'integrità non campo e sia \(0
    \neq a \in A \sminus A^{*}\). Allora \(f_a: A \to A\) dato da \(b \mapsto
    ab\) è monomorfismo in \(A\mathtt{-Mod}\), ma preso \(M = A/(a)\) abbiamo
    che \(\varphi _{a*} : M \otimes_A A\to M \otimes_A A\) dato da \(x \otimes b
    \mapsto x \otimes {(ab)}\) non è iniettivo % TODO check
    
\end{remark}






