\chapter{Categorie}

\begin{definition}{Categoria}
    Una \textbf{categoria} \(C\) è data da una classe di oggetti \(\mathrm{Ob}{(C)}\) e \(\forall X, Y \in \mathrm{Ob}{(C)}\) da un insieme di morfismi da \(X \) a \(Y\) indicato con
    \(\mathrm{Hom}{(X,Y)} = \mathrm{Hom}_C {(X, Y)} = C{(X, Y)}\)  e da una
   azione  composizione di morfismi, cioè \(\forall X, Y, Z \in \mathrm{Ob}{(C)}\)
    (anche scritto \(X, Y, Z \in C\) ) un'operazione 
    \begin{align*}
        C{(X, Y)} \times  C{(Y, Z)} &\to  C{(X, Z)}
        {(f, g)} &\mapsto g \circ f
    \end{align*}

    tale che 
\begin{enumerate}[label = \arabic*.]
    \item[0.] \(C{(X,Y)} \cap  C{(X', Y')} \neq \varnothing \implies X = X' \text{ e } Y = Y'\) 
    \item[1.] \(\circ\) è associativa, cioè \(\forall X, Y, Z, W \in C\) e \(\forall f \in C{(X,Y)}\) e \(\forall g \in C{(Y, Z)}\) e \(\forall h \in C{(Z, W)}\)  allora 
        \[
          h \circ {(g \circ f)} = {(h \circ g)} \circ f
        \]
    \item[2.] \(\forall  X \in  C \) esiste \(1_X = \mathrm{id}_X \in C{(X, X)}\)
        che è eleemento neutro di \(X\) cioè \(\forall Y \in C\) e \(\forall f
        \in C{(X, Y)}\), 
        \[
          f \circ 1_X = f \quad, \quad 1_Y \circ f = f
        \]
\end{enumerate}
\end{definition}
\begin{example}{}
    La categoria degli insiemi \(\mathtt{Set} \) che ha come oggetti tutti gli
    insiemi e \(\forall X, Y \in \mathtt{Set} \) i morfismi \(\mathtt{Set}{(X, Y)} = \{f : X \to Y\}  \) le funzioni e \(\circ\) la composizione di funzioni
\end{example}
\begin{remark}{}
    Se ho \(C\) tale che valgano solo 1. e 2. e non necessariamente 0. posso
    ottenere la categoria \(C'\) che soddisfa anche 0. ponendo \(\mathrm{Ob}{(C')} := \mathrm{Ob}{(C)}\) e 
    \[
      C'{(X, Y)} := \{X\} \times C{(X,Y)} \times \{Y\} 
    \]
\end{remark}
\begin{example}{}
    Le categorie concrete, in cui gli oggetti sono insiemi con qualche struttura
    e i morfismi sono funzioni tra insiemi che preservano la struttura (con \(\circ\) sempre la composizione di funzioni). In particolare:
\begin{itemize}
    \item La categoria \(\mathtt{Grp}\) dei gruppi, dove gli oggetti sono i
        gruppi e i morfismi gli omomorfismi di gruppi
    \item La categoria \(\mathtt{Rng}\) degli anelli
    \item Dato un anello \(A\), la categoria \(\mathtt{A-Mod}\) / \(\mathtt{Mod-A}\) degli \(A\)-moduli sinistri / destri
    \item Dato un anello commutativo \(A\), la categoria \(\mathtt{A-Alg}\)
        delle \(A\)-algebre
    \item La categoria \(\mathtt{Top}\) degli spazi topologici (con funzioni
        continue come morfismi)
\end{itemize}
\end{example}
\begin{note}{}
    Dato \(f \in C{(X, Y)}\) si può indicare con \(f : X \to Y\) ``come fosse
    una funzione''
\end{note}

\begin{example}{}
    Le categorie discrete, cioè tali che gli unici morfismi sono \(1_X\) per
    ogni \(X \in C\).
\end{example}

\begin{example}{}
    \(C\) tale che \(\forall X, Y \in C\), \(\# C {(X, Y)} = 1\), ottengo
    una relazione \(\preccurlyeq \) su \(\mathrm{Ob}{(C)}\) in cui
    \[
      X \preccurlyeq Y \iff C{(X, Y)} \neq \varnothing
    \]
    e \(\preccurlyeq\)  è riflessivo (perché \(\exists  1_X \in C{(X, X)} \forall X \in C\)) e transitivo, perché \(\exists \circ\). Ne consegue che \(\preccurlyeq\) è un \emph{preordine}

    Viceversa, data una relazione di preordine \(\preccurlyeq\) su un insieme (o
    una classe) \(S\), ottengo una categoria \(C\) con \(\mathrm{Ob}{(C)} := S\) e \(\forall X, Y \in S\), 
    \[
      C{(X, Y)} := \begin{cases}{}
          \{f_{X,Y} \} & \text{ se } X \preccurlyeq Y \\
          \varnothing & \text{ altrimenti}
      \end{cases}
    \]
    con l'unica composizione possibile
\end{example}

\begin{example}[Categoria Vuota]
    Prendendo \(\mathrm{Ob}{(C)} = \varnothing\)
\end{example}
\begin{remark}{}
    \(\forall X \in C\) con \(C\) una categoria, \(\mathrm{End}_C{(X)} := C{(X, X)}\) è un monoide con \(\circ\), ne consegue il prossimo esempio
\end{remark}
\begin{example}[Monoide]
    Una categoria con un solo oggetto è un monoide. Viceversa ogni monoide può
    essere visto come categoria di un solo oggetto.
\end{example}

\begin{example}[Diagrammi]
    Possiamo definire categorie date da diagrammi, in cui si rappresentano i
    morfismi (non l'identità). Ad esempio:
\[\begin{tikzcd}
	\bullet & \bullet & \bullet & \bullet & \bullet & \bullet & \bullet
	\arrow[from=1-1, to=1-2]
	\arrow[shift left, from=1-3, to=1-4]
	\arrow[shift right, from=1-3, to=1-4]
	\arrow[from=1-5, to=1-6]
	\arrow[from=1-7, to=1-6]
\end{tikzcd}\]
    sono tre categorie diverse, rispettivamente con 2, 2, e 3 oggetti
\end{example}

\begin{definition}{Categoria opposta}
    La \textbf{categoria opposta} di \(C\) è denotata \(C^{op}\) ed è definita
    da
    \[
        \mathrm{Ob}{(C^{op})} := \mathrm{Ob}{(C)} \quad C^{op}{(X, Y)} := C{(Y, X)}
    \]
    con composizione in \(\circ^{op}\) data da \(f \circ^{op} g := g \circ f\) 
\end{definition}
\begin{remark}{}
    \[
      {(C^{op})}^{op} = C
    \]
\end{remark}
\begin{example}[Categoria Prodotto]
    Siano \(C_{\lambda} \) per \(\lambda \in \Lambda\) delle categorie. Allora
    la categoria prodotto
    \[
      C := \prod_{\lambda \in \Lambda} C_{\lambda} 
    \]
    è definita da 
    \begin{align*}
      \mathrm{Ob}{(C)} &:= \prod_{\lambda \in \Lambda} \mathrm{Ob}{(C_\lambda)} \\
      C{({(X_{\lambda} )}_{\lambda \in \Lambda}, {(Y_{\lambda} )}_{\lambda \in \Lambda} )} &:= \prod_{\lambda \in \Lambda} C_{\lambda} {(X_{\lambda} , Y_\lambda)} \\
      {(g_{\lambda} )}_{\lambda \in \Lambda} \circ {(f_{\lambda} )}_{\lambda \in \Lambda} &:= {(g_{\lambda} \circ f_{\lambda} )}_{\lambda \in \Lambda} 
    \end{align*}
\end{example}

\begin{example}[Cateogoria Coprodotto]
    La categoria coprodotto
    \[
      C := \coprod_{\lambda \in \Lambda} C_{\lambda} 
    \]
    è definita con \(\mathrm{Ob}{(C)} := \coprod_{\lambda \in \Lambda} \mathrm{Ob}{(C_{\lambda} )}\) l'unione disgiunta. 
    \[
      \forall X, Y \in C \quad C{(X, Y)} := \begin{cases}{}
          C_{\lambda} {(X, Y)} & \text{ se } X, Y \in C_{\lambda} \text{ per
          qualche } \lambda \in \Lambda \\
              \varnothing & \text{ altrimenti}
      \end{cases}
    \]
    con \(\circ\) ovvia.
\end{example}

\begin{definition}{Sottocategoria}
    Sia \(C\) una categoria. Allora una sottocategoria \(C'\) di \(C\) è data
    da una sottoclasse \(\mathrm{Ob}{(C')} \subseteq \mathrm{Ob}{(C)} \) e \(\forall X, Y \in C'\) da un sottoinsieme \(C'{(X, Y)} \subseteq C{(X, Y)} \) tale che \(\circ\) si restringe a \(C'\) e \(1_X \in C'{(X, X)}\) per ogni \(X \in C'\).

    In particolare \(C'\) è una categoria.
\end{definition}

\begin{example}{}
    Se \(C\) è un monoide (cateogoria di un oggetto), allora le sottocategorie
    non vuote di \(C\) sono i sottomonoidi.
\end{example}

\begin{definition}{Sottocategoria Piena}
    Una sottocategoria \(C'\) di \(C\) si dice \textbf{piena} se \(C'{(X, Y)} =
    C{(X, Y)}\) per ogni \(X, Y \in C'\) 
\end{definition}

\begin{remark}{}
    Una sottocategoria piena di \(C\) equivale a dare una sottoclasse di \(\mathrm{Ob}{(C)}\) 
\end{remark}

\begin{example}[Gruppi Abeliani]
    \(\mathtt{Ab} \subseteq \mathtt{Grp} \) sottocategoria piena dei gruppi
    abeliani. Similmente anche \(\mathtt{CRng} \subseteq \mathtt{Rng} \)
    sottocategoria piena degli anelli commutativi.
\end{example}

Oltre alle sotto-strutture sono anche importanti i quozienti, e anche qui
possiamo dare una definizione astratta

\begin{definition}{Congruenza}
    Una congruenza \(\sim \) su una categoria \(C\) è data da una relazione di
    equivalenza \(\sim \) su \(C{(X, Y)}\) \(\forall X, Y \in C\) tale che
    \[
      \forall X, Y, Z \in C, \, \forall f, f' \in C{(X, Y)} \, \forall g,
      g' \in C{(Y, Z)} \quad f \sim f', g \sim g' \implies g \circ f \sim g'
      \circ f'
    \]
    equivalentemente \(g \sim g' \implies g \circ f \sim g' \circ f\) e \(h \circ g \sim h \circ g'\) 
\end{definition}

\begin{definition}{Quoziente}
    Sia \(\sim \) una congruenza su \(C\), allora possiamo definire la categoria
    quoziente \(C / \sim \) definita da
    \[
      \mathrm{Ob}{(C / \sim )} = \mathrm{Ob}{(C)} \quad {(C / \sim )}{(X, Y)} :=
      C{(X, Y)} / \sim \quad \forall X, Y \in C
    \]
    e \(\circ\) è indotta da quella di \(C\), ossia
    \[
      \overline{g} \circ \overline{f} := \overline{g \circ f}
    \]
\end{definition}

\begin{example}[Omotopia]
    Sia \(C = \mathtt{Top}\) e \(\sim_h \) l'omotopia, ossia \(f, g : X \to Y\)
    sono omotope se \(\exists  H : X \times [0, 1] \to Y\) continue tali che 
    \[
      f{(x)} = H{(x, 0)}, \quad g{(x)} = H{(x, 1)} \quad \forall x \in X
    \]
    e si ottiene \(\mathtt{Toph} := \mathtt{Top} / \sim_h \) 
\end{example}

\begin{example}[Gruppo quoziente]
    Sia \(G\) un gruppo (visto come monoide, ossia categoria di un oggetto) e
    sia \(H \vartriangleleft G\) e \(\sim \) su \(G\) data da \(a \sim b \iff aH
    = bH\). Viceversa ogni \(\sim \) congruenza su \(G\) si può scrivere in tal
    modo prendendo \(H = \{a \in G : a \sim 1\} \vartriangleleft G \) (esercizio).
\end{example}

\begin{definition}{morfismo invertibile}
    Sia \(f : X\to Y\) un morfismo in una categoria \(C\). Allora esso è
    invertibile a sinistra (destra) se \(\exists  f' : Y \to X\) tale che
    \(f' \circ f = 1_X\) (\(f \circ f' = 1_Y\)).
\end{definition}
\begin{remark}{}
    \(f\) è invertibile a sinistra (destra) in \(C\), allora \(f\) è invertibile
    a destra (sinistra) in \(C^{op}\) 
\end{remark}

\begin{definition}{Isomorfismo}
    \(f : X \to Y\) è un \textbf{isomorfismo} se \(\exists f' : Y \to X\) tale che \(f'
    \circ f = 1_X\) e \(f \circ f' = 1_Y\) 
\end{definition}
\begin{remark}{}
    \(f\) è isomorfismo se e solo se \(f\) è invertibile a destra e a sinistra. 
\end{remark}
\begin{proof}\( \)
\begin{itemize}
    \item[\(\implies \)] ovvio
    \item[\(\impliedby \)] \(\exists f', f''\) tale che \(f' \circ f = 1_X\)  e
        \(f \circ f'' = 1_Y\), allora
        \[
          f' \circ {( f \circ f'')} = f' = f'' = {(f' \circ f)} \circ f''
        \]
        e dunque \(f\) è invertibile.
\end{itemize}
    In particolare dunque la \(f'\) della definizione di isomorfismo è unica e
    viene denotata \(f^{-1}\) 
\end{proof}

\begin{definition}{}
    Siano \(X, Y \in C\). Allora \(X\) e \(Y\) sono isomorfe (\(X \cong Y\)) se
    esiste un \(f: X \to Y\) isomorfismo.
\end{definition}

\begin{remark}{}
    \(1_X\) è isomorfismo e \(1_X^{-1} = 1_X\). Se \(f\) isomorfismo
    allora \(f^{-1}\) isomorfismo e \({(f^{-1})}^{-1} = f\). Se \(f, g\)
    isomorfismi componibili, allora \(g \circ f\) è isomorfismo e \({(g \circ f)}^{-1} = f^{-1} \circ g^{-1}\) 

    Ne segue che \(\cong\) è una relazione di equivalenza su \(\mathrm{Ob}{(C)}\) 
\end{remark}

\begin{definition}{}
    Un morfismo \(f : X \to Y\) in \(C\) è detto \textbf{monomorfismo} se \(\forall Z \in C\) la funzione 
    \begin{align*}
        f_*: C{(Z, X)} &\longrightarrow C{(Z, Y)} \\
        g &\longmapsto f_*(g) = f \circ g
    \end{align*}
    è iniettiva
\end{definition}
\begin{definition}{Epimorfismo}
    \(f\) è un \textbf{epimorfismo} in \(C\) se è monomorfismo in \(C^{op}\),
    ossia \(\forall Z \in C\) la funzione
    \begin{align*}
        f^*: C{(Y, Z)} &\longrightarrow C{(X, Z)} \\
        g &\longmapsto f^*(g) = g \circ f
    \end{align*}
    è iniettiva.
\end{definition}

\begin{proposition}{}
    \(f\) è invertibile a sinistra (destra), allora \(f\) è monomorfismo
    (epimorfismo)
\end{proposition}
\begin{proof}{}
    Basta dimostrare che se \(f\) è invertibile a sinistra, allora è mono.

    Sappiamo che \(\exists f' : Y\to X\) tale che \(f' \circ f = 1_X\). Dobbiamo
    dimostrare che \(f_*\) è iniettiva. Siano \(g, h \in C{(Z, X)}\) tali che \(f_*{(g)} = f_*{(h)}\). Allora \(f \circ g = f \circ g\), da cui \(f' \circ f \circ g = f' \circ f \circ h\) e dunque \(g = h\) 
\end{proof}

\begin{proposition}{}
    Sia \(C\) concreta. Allora
    \[
      f \text{ invertibile a sinistra (destra)} \implies f \text{ iniettiva
      (suriettiva)} \implies f \text{ mono (epi)}
    \]
\end{proposition}
\begin{proof}{}
    Non possiamo usare il trick della categoria opposta, perché non è detto che
    \(C^{op}\) sia ancora concreta.

    Sia \(f'\) tale che \(f' \circ f = 1_X\) (\(f \circ f' = 1_Y\)), allora
    chiaramente \(f\) iniettiva (suriettiva) perché le composizioni \(1_X\) e \(1_Y\) sono biunivoche.

    Se \(f\) è iniettiva, allora % TODO finire
    se \(f\) è suriettiva, allora % TODO finire
\end{proof}

In generale non vale nessuna delle \(\impliedby\).
\begin{example}{}
    In \(\mathtt{Set}\) se \(f : X \to Y\) è suriettiva, allora \(f\) è invertibile a
    sinistra. Infatti basta scegliere (AOC) \(f'{(y)} \in f^{-1}\{y\} \) per
    ogni \(y \in Y\). Inoltre se \(X \neq \varnothing\) e \(f : X \to Y\) è
    iniettiva, allora \(f\) è invertibile a sinistra.
\end{example}

\begin{eser}{}
    In \(\mathtt{A-Mod}\), mostrare che \(f : M\to N\) iniettiva è invertibile a
    sinistra se e solo se \(\mathrm{Im}{(f)} \subseteq N \) è addendo diretto.

    Mostrare che \(f : M \to N\) suriettiva è invertibile a destra se e solo se
    \(\mathrm{Ker}{(f)} \subseteq M \) è addendo diretto

    Concludere che valgono sempre entrambe le implicazioni se e solo se \(A\) è
    semisemplice.
\end{eser}

\begin{example}{}
    In \(\mathtt{Set}\), se \(f\) è mono (epi), allora \(f\) è iniettiva
    (suriettiva).

    Infatti, poniamo per assurdo \(f : X \to Y\) non iniettiva, dunque siano \(x, y \in X\) tali che \(f{(x)} = f{(y)}\). Allora preso \(Z = \{z\} \) e \(g, h : Z\to X\) tali che \(g
    {(z)} = x\) e \(h{(z)} = y\) abbiamo che \(f \circ g = f \circ h\) da cui \(g = h\) e dunque \(x = y\) 

    Supponiamo \(f\) non suriettiva, mostrare \emph{per esercizio} \(\exists g, h : Y \to Z\) tali che
    \(g \neq h\) ma \(g \circ f = h \circ f\) 
\end{example}

\begin{example}{}
    In \(\mathtt{A-Mod}\) \(f : M \to N\) è mono (epi), allora \(f\) è iniettiva (suriettiva).

    Infatti \(i : \mathrm{Ker}f \to M\) inclusione tale che \(f \circ i = 0\) e
    anche \(0 : \mathrm{Ker}f \to M\) è tale che \(f \circ 0 = 0\). Concludiamo
    che \(i = 0\) e dunque \(\mathrm{Ker}f = 0\).

    Similmente \(\pi : N \to \mathrm{coKer}f\) è tale che \(\pi \circ f = 0\) e
    se \(f\) è epi allora \(0 = \pi \) e dunque \(\mathrm{coKer} f= 0\) e dunque
    \(f\) è suriettiva.
\end{example}

\begin{example}{}
    In \(\mathtt{Grp}\) \(f\) mono (epi), allora \(f\) iniettiva (suriettiva)

    Per mono \(\implies \) iniettiva si può usare la stessa dei moduli, mentre
    per l'altra è un po' più complicato, ma si dimostra che è vero lo stesso
\end{example}

\begin{example}{}
    In \(\mathtt{Rng}\) \(f : A\to B\) mono, allora \(f\) iniettiva. % TODO eser

    Tuttavia \(f\) epi \textbf{non implica} f suriettiva. Ad esempio preso \(i :
    \mathbb{Z} \hookrightarrow \mathbb{Q}\) è epi, infatti \(\forall A\) anello
    esiste al più un omomorfismo \(\mathbb{Q} \to A\) (\(f : \mathbb{Q}\to A\)
    sia omomorfismo, allora \(f|_{\mathbb{Z}} \) è l'unico omomorfismo e \(f{(\frac{a}{b})} = f{(a)}f{(b)}^{-1}\)). Chiaramente però non è suriettiva.
\end{example}

\begin{definition}{Funtore}
    Un funtore \(F : C \to D\) tra 2 categorie è dato da una funzione
    \(F : \mathrm{Ob}{(C)} \to \mathrm{Ob}{(D)}\) e \(\forall X, X' \in C\) una
    funzione \(F = F_{X, X'} : C{(X, X')} \to D{(F{(X)}, F{(X')})}\) tale che
    \[
      F{(g\circ f)} = F{(g)}\circ F{(f)} 
    \]
    (se \(f\) e \(g\) sono componibili in \(C\) ) e \(F{(1_X)} = 1_{F{(X)}} \)
    per ogni \(X \in C\) 
    
\end{definition}
\begin{proposition}{}
    Sia \(F\) un funtore e \(f\) invertibile a sinistra (destra). Allora \(F{(f)}\) è invertibile a sinistra (destra)
\end{proposition}
\begin{proof}{}
    \(\exists f'\) tale che \(f' \circ f = 1_X\), allora \(F{(f')} \circ F{(f)} = F{(f'\circ f)} = F{(1_X)} = 1_{F{(X)}} \).
\end{proof}
\begin{remark}{}
    Segue che \(f\) iso, allora \(F{(f)}\) iso e \(F{(f)}^{-1} = F{(f^{-1})}\) 
\end{remark}

\begin{example}{}
    Sia \(C' \subseteq C \) sottocategoria. Allora \(C' \to C\), \(x \mapsto x\) e \(f \mapsto f\) è un funtore
\end{example}

\begin{example}{}
    Se \(\sim \) è una congruenza, allora \(C \to C /\sim\) è un funtore, con
    \(x \mapsto x\) e \(f \mapsto \overline{f}\) 
\end{example}

\begin{example}[Funtore dimenticante]
    \(C \to \mathtt{Set}\) con \(C\) categoria discreta e \(x \mapsto x\), \(f
    \mapsto f\) è un funtore, che ``dimentica'' la struttura aggiunta.

    Analogamente anche \(\mathtt{Rng} \to \mathtt{Ab}\), con \({(A, +, \cdot )} \to {(A, +)}\) è un funtore dimenticante.
\end{example}

\begin{example}{}
    Sia \(A \to B\) un omomorfismo di anelli. Allora la restrizione degli
    scalare è un funtore \(\mathtt{B-Mod} \to \mathtt{A-Mod}\) 
\end{example}


\begin{example}{}
    Funtore tra 2 categorie discrete \(C\) e \(D\) è una funzione \(\mathrm{Ob}{(C)} \to \mathrm{Ob}{(D)}\) 
\end{example}

\begin{example}{}
    Un funtore tra 2 preordini \(C\) e \(D\) è una funzione \(\mathrm{Ob}{(C)} \to \mathrm{Ob}{(D)}\)  che preserva la relazione di preordine.
\end{example}

\begin{example}{}
    Un funtore tra 2 monoidi è un omomorfismo di monoidi.

    Più in generale dato un monoide e una categoria \(C\) , un funtore \(G \to C\) è dato da \(X \in C\) e da un omomorfismo di monoidi \(G \to \mathrm{End}_C{(X)}\) 

    Se \(G\) è un gruppo un funtore \(G \to C\) è dato da \(X \in C\) e un
    omomorfismo di gruppi \(G \to \mathrm{Aut}_C{(X)}\). Ad esempio se \(C = \mathtt{Set}\) il funtore dà un'azione di un gruppo su un insieme.
\end{example}

\begin{example}[Funtore costante]
    Date \(C, D\) categorie preso \(Y \subseteq D \) si può considerare il
    funtore costante di valore \(Y\), \(C \to D\), \(X \mapsto Y\) e \(f \mapsto 1_Y\) 
\end{example}

\begin{example}{}
    Presa \(\mathtt{Top}_*\) la categoria degli spazi topologici puntati, il
    gruppo fondamentale 
    \[
        \pi_{1} : \mathtt{Top}_* \to \mathtt{Grp}
    \]
    è un funtore
\end{example}

\begin{example}{}
    \(\forall n \in \mathbb{N}\) ci sono funtori di omologia (singolare)
    \[
      H_{n} : \mathtt{Top} \to \mathtt{Ab}
    \]
\end{example}
\begin{eser}{}
    Sia \(\sim \) una congruenza su \(C\) e \(F : C \to D\) un funtore tale che
    se \(f \sim f'\) in \(C\) allora \(F{(f)} = F{(f')}\).
    Allora esiste unico un funtore \(\overline{F} : \frac{C}{\sim} \to D\) tale
    che \(\overline{F}{(\overline{f})} = F{(f)}\) per ogni \(f\) morfismo di \(C\) 
\end{eser}
\begin{example}{}
    Negli esempi precedenti se \(f\) e \(f'\) sono omotope, allora \(\pi_{1}{(f)} = \pi_{1}{(f')}\) e \(H_{n}{(f)} = H_{n}{(f')}\), dunque inducono funtori
    \[
      \pi_{1} : \mathtt{Toph}_* \to \mathtt{Grp} \quad H_{n} : \mathtt{Toph} \to \mathtt{Ab}
    \]
\end{example}

\begin{note}{}
    I funtori che abbiamo definito si dicono anche funtori covarianti
\end{note}
\begin{definition}{}
    Un funtore \textbf{controvariante} \(C \to D\) è un funtore (covariante) \(C^{op} \to D\).
\end{definition}
\begin{example}{}
    \(\forall n \in \mathbb{N}\) i funtori di coomologia (singolare) sono funtori
    controvarianti \(H^{n} : \mathtt{Top(h)}^{op} \to \mathtt{Ab}\) 
\end{example}
\begin{example}{}
    Sia \(C\) una categoria, \(X \in C\)
    \begin{align*}
        C{(X, \--)} : C &\to \mathtt{Set} \\
        Y \mapsto C{(X, Y)} \quad {(f : Y \to Y')} &\mapsto {(f_{*} : C{(X, Y)} \to C{(X, Y')})} \\
            & \quad \quad \quad \quad\quad\quad\quad  g \mapsto f \circ g
    \end{align*}
    è un funtore perché \({(f' \circ f)}_* = f'_* \circ f_*\) 

    Analogamente 
    \begin{align*}
        C{(\--, X)} : C^{op} &\to \mathtt{Set} \\
        Y \mapsto C{(Y, X)} \quad {(f : Y \to Y')} &\mapsto {(f^{*} : C{(Y', X)} \to C{(Y, X)})} \\
            & \quad \quad \quad \quad\quad\quad\quad  g \mapsto g \circ f
    \end{align*}
\end{example}
\begin{remark}{}
    \(C'\) è anche un funtore 
    \begin{align*}
        C{(\--, =)} : C^{op} \times C &\to \mathtt{Set} \\
        {(X, Y)} &\mapsto C{(X, Y)} \\
        {(f : X \to X', g : Y \to Y')} &\mapsto \dots
    \end{align*}
\end{remark}
\begin{example}{}
    Per ogni gruppo \(G\), preso il sottogruppo dei commutatori \([G, G]\),
    allora per ogni \(f : G \to H\) omomorfismo di gruppi, \(f{([G, G])} \subseteq [H, H] \) 
    quindi si ottiene un funtore
    \begin{align*}{}
        \mathtt{Grp} &\to \mathtt{Grp} \\
        G &\mapsto [G, G] \\
        {(f : G \to H)} &\to {(f |_{[G, G]} : [G, G] \to [H, H] )}
    \end{align*}
    e anche 
    \begin{align*}
        \mathrm{Abel} : \mathtt{Grp} &\to \mathtt{Ab} \\
        G &\mapsto \frac{G}{[G, G]} \text{ (abelianizzato di \(G\) ) }
    \end{align*}
\end{example}

\begin{eser}{}
    Indicando con \(Z{(X)}\) il centro di \(X\),

   Mostrare che non esiste un funtore \(F : \mathtt{Rng} \to \mathtt{Rng}\) tale
    che \(\forall A \in \mathtt{Rng}\) \(F{(A)} = Z{(A)}\).

    Mostrare che non esiste un funtore \(F : \mathtt{Grp} \to \mathtt{Ab}\) tale
    che \(\forall G \in \mathtt{Grp}\) \(F{(G)} = Z{(G)}\).
\end{eser}

    L'identità
    \[
      \mathrm{id}_C : C \to C \quad X \mapsto X \quad f \mapsto f
    \]
    è un funtore
    Si possono comporre i funtori. Dati ad esempio 
    \[
      C \overset{F}{\to } D \overset{G}{\to } E
    \]
    funtori, possiamo definire \(G \circ F : C \to E\) come \(X \mapsto G{(F{(X)})}\)  e \(f \mapsto G{(F{(f)})}\) è un funtore.

    La composizione è associativa  e \(F \circ \mathrm{id}_C = F = \mathrm{id}_C \circ F\) 

In tal modo otteniamo una categoria \(\mathtt{Cat}\) delle categorie (piccole\footnote{si potrebbe anche fare di tutte le categorie, ma per motivi
insiemistici/logici dovremmo introdurre gli universi di Grothendieck e fare le
cose per bene. Al fine di evitare questo inutile sforzo, ci limitiamo a
considerare le categorie piccole.})

\begin{definition}{}
    Un funtore \(F : C \to D\) è un isomorfismo se lo è in \(\mathtt{Cat}\),
    cioè se \(\exists G : D \to C\)  funtore tale che \(G \circ F = \mathrm{id}_C = F \circ G\) 
\end{definition}

\begin{definition}{}
    Un funtore \(F : C \to D\) è iniettivo (suriettivo) se \(F : \mathrm{Ob}{(C)} \to \mathrm{Ob}{(D)}\) è iniettivo (suriettivo).

    Nel caso in cui \(f\) sia sia iniettivo che suriettivo, è biunivoco.
\end{definition}

\begin{definition}{}
    \(F\) è detto \textbf{fedele} (\textbf{pieno}) se \(\forall X, Y \in C\), \(F : C{(X, Y)} \to D{(F{(X)}, F{(Y)})}\) è iniettivo (suriettivo).

    Nel caso in cui \(f\) sia sia fedele che pieno, si dice che è
    \textbf{pienamente fedele}
\end{definition}
\begin{eser}{}
    \(F\) funtore è isomorfismo se e solo se \(F\) è pienamente fedele e
    biunivoco.
\end{eser}


\begin{example}{}
    Se \(C' \subseteq C \) è una sottocategoria, allora il funtore di inclusione
    \(i : C' \to C\) è iniettivo e fedele ed è pieno se e solo se \(C' \subseteq C\) è piena.

    Ad esempio se \(\sim \) è una congruenza in \(C\) , allora il funtore
    quoziente \(C \to C / \sim \) è biunivoco e pieno.
\end{example}

\begin{example}{}
    Un omomorfismo di monoidi (categorie di un oggetto) è iniettivo (suriettivo)
    se e solo se come funtore è fedele (pieno). In ogni caso è biunivoco.
\end{example}

\begin{example}{}
    I funtori dimenticanti \(\mathtt{\mathbb{Z}-Mod} \to \mathtt{Ab}\) e \(\mathtt{\mathbb{Z}-Alg} \to \mathtt{Rng}\) sono isomorfismi.
\end{example}

\begin{example}{}
    Anche \(\mathtt{Mod-A}\cong \mathtt{A^{op}-Mod}\) ed esiste un isomorfismo
    (anche se non sono categorie piccole).
\end{example}

\begin{definition}{}
    Un funtore \(F: C \to D\) è \textbf{essenzialmente
    \emph{iniettivo}/\emph{suriettivo}} se la funzione ridotta 
    \[
      \mathrm{Ob}{(C)}/\cong \to \mathrm{Ob}{(D)}/\cong
    \]
    è \emph{suriettivo}/\emph{iniettivo}
\end{definition}

\begin{remark}{}
    Se \(F\) è suriettivo allora \(F\) è essenzialmente suriettivo. L'altra
    implicazione non vale. Ad esempio
\[\begin{tikzcd}
	{(\bullet)} & {(\bullet} & {\bullet)}
	\arrow[from=1-1, to=1-2]
	\arrow[shift left, from=1-2, to=1-3]
	\arrow[shift left, from=1-3, to=1-2]
\end{tikzcd}\]
    Nessuna delle implicazioni tra iniettiva e essenzialmente iniettiva è vera.
    Basti considerare
\[\begin{tikzcd}
	{(\bullet)} & {(\bullet} & {\bullet)}
	\arrow[from=1-2, to=1-1]
	\arrow[shift left, from=1-2, to=1-3]
	\arrow[shift left, from=1-3, to=1-2]
\end{tikzcd}\]
    per essenzialmente iniettiva \(\not\implies\) iniettiva
    e
\[\begin{tikzcd}
	{(\bullet} & {\bullet)} & {(\bullet} & {\bullet)}
	\arrow[from=1-2, to=1-3]
	\arrow[shift left, from=1-3, to=1-4]
	\arrow[shift left, from=1-4, to=1-3]
\end{tikzcd}\]
    per iniettiva \(\not\implies \) essenzialmente iniettiva.
\end{remark}

\begin{proposition}{}
    Sia \(F: C \to D\) un funtore pienamente fedele. Allora \(F\) è
    essenzialmente iniettivo
\end{proposition}
\begin{proof}{}
    Siano \(X, Y \in C\) tali che \(F{(X)} \cong F{(Y)}\) in \(D\). Devo
    dimostrare che \(X \cong Y\) in \(C\).

    Sappiamo che esiste \(g : F{(X)} \to F{(Y)}\) isomorfismo in \(D\). Poiché
    \(F\) è pieno esiste \(f \in C{(X, Y)}\) tale che \(F{(f)} = g\).
    Analogamente \(\exists f' \in C{(Y, X)}\) tale che \(F{(f')} = g^{-1}\).
    \[
      F{(f' \circ f)} = F{(f')} \circ F{(f)} = g^{-1} \circ g = 1_{F{(X)} = F{(1_X)}} 
    \]
    Se \(F\) è fedele, allora \(f' \circ f = 1_X\)  e analogamente \(f \circ f' = 1_Y\) da cui \(f\) è isomorfismo e duque \(X \cong Y\) 
\end{proof}

\begin{definition}{Trasformazione naturale}
    Siano \(F, F' : C \to D\) funtori.

    Una \textbf{trasformazione naturale} \(\alpha : F \to F'\) (si può anche
    scrivere \(\alpha : F \implies F'\)) è il dato di un morfismo
    \[
      \alpha_X : F{(X)} \to F'{(X)} \text{ in \(D\) } \forall X \in C
    \]
    tale che \(\forall f : X \to Y\) morfismo di \(C\) il diagramma
\[\begin{tikzcd}
	{F(X)} & {F(Y)} \\
	{F'(X)} & {F'(Y)}
	\arrow["{F(f)}", from=1-1, to=1-2]
	\arrow["{\alpha_X}", from=1-1, to=2-1]
	\arrow["{\alpha_Y}", from=1-2, to=2-2]
	\arrow["{F'(f)}"', from=2-1, to=2-2]
\end{tikzcd}\]
    commuta in \(D\), cioè \(\alpha_Y \circ F{(f)} = F'{(f)} \circ \alpha_X\) 
\end{definition}

\begin{example}{}
    Consideriamo i due funtori \(\mathrm{Abel} : \mathtt{Grp} \to \mathtt{Grp}\) e \(\mathrm{id} : \mathtt{Grp} \to \mathtt{Grp}\). 
    C'è una trasformazione naturale \(\alpha : \mathrm{id} \to \mathrm{Abel}\)
    definita per ogni \(G \in \mathtt{Grp}\) da 
    \begin{align*}
        \alpha_G: G &\longrightarrow \frac{G}{[G, G]} \\
        a &\longmapsto \alpha_G(a) = a[G, G]
    \end{align*}
    è naturale perché \(\forall f : G \to H\) in \(\mathtt{Grp}\) il diagramma
\[\begin{tikzcd}
	{G} & {H} \\
    {\frac{G}{[G,G]}} & {\frac{H}{[H,H]}}
	\arrow["f", from=1-1, to=1-2]
	\arrow["{\alpha_G}", from=1-1, to=2-1]
	\arrow["{\alpha_H}", from=1-2, to=2-2]
	\arrow["\overline{f}"', from=2-1, to=2-2]
\end{tikzcd}\]
\end{example}

\begin{example}{}
    Supponendo di avere \(F, F' : G \to \mathtt{Set}\) funtori (\(G\) gruppo
    visto come categoria con un oggetto), cioè \(G\)-insiemi (azioni di \(G\) su
    insiemi).
    Allora una trasformazione naturale \(\alpha : F \to F'\) è un morfismo di \(G\)-insiemi cioè una
    funzione \(\alpha : F{(G)} \to F'{(G)}\) tale che \(\alpha{(gx)} = g \alpha{(x)}\) per ogni \(g \in G\) e per ogni \(x \in F{(G)}\).
\end{example}
\begin{remark}{}
    \(\forall F : C\to D\), \(\mathrm{id}_F : F \to F\) data da \({(\mathrm{id}_F)}_X = \mathrm{id}_{F{(X)}} \) per ogni \(X \in C\) è una trasformazione naturale.
\end{remark}

\begin{eser}{}
    Dati \(F, F', F'' : C \to D\) funtori, \(\alpha : F \to F'\) e \(\beta : F'
    \to F''\) trasformazioni naturali, allora la composizione \(\beta \circ \alpha : F \to F''\) è definita da
    \[
      \beta_X \circ \alpha_X =: {(\beta \circ \alpha)}_X : F{(X)} \to F''{(X)}
    \]
    Mostrare che \(\alpha \circ \beta\) è una trasformazione naturale
\end{eser}

La composizione dell'esercizio precedente è anche detta composizione verticale
di trasformazioni naturali, per via di questo disegno esplicativo:
\[\begin{tikzcd}
	C & D
	\arrow[""{name=0, anchor=center, inner sep=0}, "F", curve={height=-20pt}, from=1-1, to=1-2]
	\arrow[""{name=1, anchor=center, inner sep=0}, "{F''}"', curve={height=20pt}, from=1-1, to=1-2]
	\arrow[""{name=2, anchor=center, inner sep=0}, "F"{description}, from=1-1, to=1-2]
	\arrow["\alpha", between={0.2}{0.8}, Rightarrow, from=0, to=2]
	\arrow["\beta", between={0.2}{0.8}, Rightarrow, from=2, to=1]
\end{tikzcd}\]

Considerando funtori e trasformazioni naturali, si ottiene (assumiamo sempre \(C\) piccola) la categoria \(\mathtt{Fun}{(C, D)}\) (anche denotata \(D^{C}\) ) con oggetti i funtori \(C \to D\), morfismi le trasformazioni naturali e composizione la composizione verticale.

\begin{definition}{}
    Data una categoria \(C\), la categoria dei morfismi di \(C\) è
    \[
      \mathtt{Mor}{(C)} := \mathtt{Fun}{(\cdot \to \cdot , C)}
    \]
    che ha come oggetti esattamente \(\{f : \to X -Y : f \text{ morfismo di }C\} \) e trasformazioni naturali date da \({(X \overset{f}{\to } Y )} \to {(X' \overset{f'}{\to } Y' )}\) è data da \({(g : X \to  X' , h : Y \to  Y')}\) tale che 
\[\begin{tikzcd}
	{X} & {Y} \\
    {X'} & {Y'}
	\arrow["f", from=1-1, to=1-2]
	\arrow["g", from=1-1, to=2-1]
	\arrow["h", from=1-2, to=2-2]
	\arrow["f'", from=2-1, to=2-2]
\end{tikzcd}\]
\end{definition}

